<!DOCTYPE HTML>
<html>
<head>
 <title>음악 플레이어</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
 <script src="https://www.youtube.com/iframe_api"></script>
 <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #f3f3f3;
    }
    .triangle-button {
      width: 24px;
      height: 24px;
      cursor: pointer;
    }
    .progress-bar {
      width: 100%;
      height: 4px;
      background: #e0e0e0;
      cursor: pointer;
      margin: 10px 0;
    }
    .progress-fill {
      height: 100%;
      background: #4a90e2;
    }
    .volume-slider {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      width: 120px;
    }
    .volume-container:hover .volume-slider {
      display: block;
    }
 </style>
</head>
<body>
 <div id="root"></div>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
 <script type="text/babel">
    function MusicPlayer() {
      const [isPlaying, setIsPlaying] = React.useState(false);
      const [currentTrackIndex, setCurrentTrackIndex] = React.useState(0);
      const playerRef = React.useRef(null);
      const [volume, setVolume] = React.useState(100);

      const tracks = [
        {
          name: "유령도쿄",
          videoId: "UWa_OiXDiQA",
          thumbnail: "1번.png"
        },
        {
          name: "잃어버린것에 의속해서",
          videoId: "zcaAsuA54pI",
          thumbnail: "2번.png"
        }
      ];

      React.useEffect(() => {
        if (!window.YT) {
          const tag = document.createElement('script');
          tag.src = 'https://www.youtube.com/iframe_api';
          document.body.appendChild(tag);
        }

        window.onYouTubeIframeAPIReady = () => {
          playerRef.current = new window.YT.Player('youtube-player', {
            height: '0',
            width: '0',
            videoId: tracks[currentTrackIndex].videoId,
            events: {
              onStateChange: (event) => {
                setIsPlaying(event.data === window.YT.PlayerState.PLAYING);
              }
            }
          });
        };
      }, []);

      const togglePlay = () => {
        if (playerRef.current) {
          if (isPlaying) {
            playerRef.current.pauseVideo();
          } else {
            playerRef.current.playVideo();
          }
        }
      };

      const handleVolumeChange = (e) => {
        const newVolume = parseInt(e.target.value);
        setVolume(newVolume);
        if (playerRef.current) {
          playerRef.current.setVolume(newVolume);
        }
      };

      const nextTrack = () => {
        const nextIndex = (currentTrackIndex + 1) % tracks.length;
        setCurrentTrackIndex(nextIndex);
        if (playerRef.current) {
          playerRef.current.loadVideoById(tracks[nextIndex].videoId);
        }
      };

      const prevTrack = () => {
        const prevIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
        setCurrentTrackIndex(prevIndex);
        if (playerRef.current) {
          playerRef.current.loadVideoById(tracks[prevIndex].videoId);
        }
      };

      return (
        <div className="max-w-sm mx-auto bg-white rounded-3xl shadow-lg p-6 mt-10">
          <div id="youtube-player"></div>
          
          <div className="relative mb-4">
            <div className="volume-container absolute right-0 top-0">
              <button className="p-2 rounded-full hover:bg-gray-100">
                <span className="text-xl">🔊</span>
              </button>
              <div className="volume-slider">
                <input
                  type="range"
                  min="0"
                  max="100"
                  value={volume}
                  onChange={handleVolumeChange}
                  className="w-full"
                />
              </div>
            </div>
            <div className="text-center">
              <h2 className="text-xl font-semibold pt-2">{tracks[currentTrackIndex].name}</h2>
            </div>
          </div>

          <div className="mb-4">
            <img
              src={tracks[currentTrackIndex].thumbnail}
              alt="Album Art"
              className="w-full h-64 object-cover rounded-xl"
            />
          </div>

          <div className="flex justify-center items-center space-x-8">
            <button onClick={prevTrack} className="flex gap-1">
              <svg className="triangle-button" viewBox="0 0 24 24">
                <path d="M15 6v12l-9-6z" fill="currentColor"/>
              </svg>
 <svg className="삼각 버튼" 보기Box="0 0 24 24">
 <경로 d="M15 6v12l-9-6z" 채우기="현재 색상"/>
 </svg>
 </버튼>
 버튼 
 onClick={togglePlay}
 className="w-16 h-16 플렉스 아이템-중심 정당화-중심 반올림-전체 bg-gray-200 호버:bg-gray-300 전이-colors"
            >
 {재생 중인가요? "⏸" : "▶"}
 </버튼>
 <Click={nextTrack} className="flex gap-1" 버튼 클릭>
 <svg className="삼각 버튼" 보기Box="0 0 24 24">
 <경로 d="M9 18V6l9 6z" 채우기="현재 색상"/>
 </svg>
 <svg className="삼각 버튼" 보기Box="0 0 24 24">
 <경로 d="M9 18V6l9 6z" 채우기="현재 색상"/>
 </svg>
 </버튼>
 </div>
 </div>
 );
    }

 ReactDOM.render(<MusicPlayer />, document.getElementById('root');
 </script>
</body>
</html>
