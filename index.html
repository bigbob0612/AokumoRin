<!DOCTYPE HTML>
<html>
 본문 {
 여백: 0;
<머리>
 <title>린 플리</title>
 <링크 릴="스타일시트" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css ">
 <style>
    body {
    }
      padding: 0;
      background-color: #f3f3f3;
 위치: 절대;
    .volume-control {
      display: 없음.;
      position: 절대적;
      top: -100px;
      right: 0;
      background: 하얀색;
    }
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .volume-container:호버 .volume-control {
      display: 블록;
 오버플로우: 자동;
    }
      max-height: 100px;
      overflow-y: 자동;
 높이: 24 px;
    }
      width: 24px;
      height: 24px;
 갭: 2 px;
    }
      display: 플렉스;
      gap: 2px;
    }
 </스타일>
</머리>
<body>
 <div id="root"></div>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
 <script type="text/babel">
    // MusicPlayer 컴포넌트의 내용은 동일하게 유지하고 return 부분만 수정
    function MusicPlayer() {
      const [volume, setVolume] = React.useState(100);
      const [isPlaying, setIsPlaying] = React.useState(false);
      const [currentTrackIndex, setCurrentTrackIndex] = React.useState(0);
      const [currentTime, setCurrentTime] = React.useState(0);
      const [duration, setDuration] = React.useState(0);
      const playerRef = React.useRef(null);

      const tracks = [
        {
          name: "Ghost Tokyo",
          videoId: "UWa_OiXDiQA",
          thumbnail: "1번.png",
          lyrics: "Take me back to Tokyo\nWhere the neon lights glow\nIn the shadows of the night..."
        },
        {
          name: "Hello, See You Again!",
          videoId: "zcaAsuA54pI",
          thumbnail: "2번.png",
          lyrics: "안녕, 다시 만나요\n변함없는 마음으로\n언제나 그대 곁에..."
        },
        {
          name: "Rumor",
          videoId: "k6UOd4jHgZI",
          thumbnail: "3번.png",
          lyrics: "들리나요 이 소리가\n멀리서 들려오는\n그대를 향한 나의 목소리..."
        }
      ];

      React.useEffect(() => {
        const tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        document.body.appendChild(tag);

        window.onYouTubeIframeAPIReady = () => {
          playerRef.current = new window.YT.Player('youtube-player', {
            height: '0',
            width: '0',
            videoId: tracks[currentTrackIndex].videoId,
            events: {
              onReady: (event) => {
                event.target.setVolume(volume);
              },
              onStateChange: (event) => {
                setIsPlaying(event.data === window.YT.PlayerState.PLAYING);
              },
            },
          });
        };

        const timeUpdateInterval = setInterval(() => {
          if (playerRef.current && playerRef.current.getCurrentTime) {
            setCurrentTime(playerRef.current.getCurrentTime());
            setDuration(playerRef.current.getDuration());
          }
        }, 1000);

        return () => {
          clearInterval(timeUpdateInterval);
        };
      }, []);

      React.useEffect(() => {
        if (playerRef.current && playerRef.current.loadVideoById) {
          playerRef.current.loadVideoById(tracks[currentTrackIndex].videoId);
        }
      }, [currentTrackIndex]);

      const formatTime = (seconds) => {
        if (!seconds) return "0:00";
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = Math.floor(seconds % 60);
        return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
      };

      const togglePlay = () => {
        if (playerRef.current) {
          if (isPlaying) {
            playerRef.current.pauseVideo();
          } else {
            playerRef.current.playVideo();
          }
        }
      };

      const handleVolumeChange = (e) => {
        const newVolume = parseInt(e.target.value);
        setVolume(newVolume);
        if (playerRef.current) {
          playerRef.current.setVolume(newVolume);
        }
      };

      const handleTimeChange = (e) => {
        const newTime = parseFloat(e.target.value);
        if (playerRef.current) {
          playerRef.current.seekTo(newTime);
          setCurrentTime(newTime);
        }
      };

      const nextTrack = () => {
        setCurrentTrackIndex((prev) => (prev + 1) % tracks.length);
      };

      const prevTrack = () => {
        setCurrentTrackIndex((prev) => (prev - 1 + tracks.length) % tracks.length);
      };

      return (
        <div className="w-80 bg-white p-4 rounded-lg shadow-lg">
          <div id="youtube-player"></div>
          <div className="relative">
            <div className="text-center mb-4">
              <h2 className="text-xl font-semibold">{tracks[currentTrackIndex].name}</h2>
            </div>
            <div className="volume-container absolute top-0 right-0">
              <button className="p-2 rounded-full hover:bg-gray-100">
                🔊
              </button>
              <div className="volume-control">
                <input
                  type="range"
                  min="0"
                  max="100"
                  value={volume}
                  onChange={handleVolumeChange}
                  className="w-24 transform -rotate-90"
                />
              </div>
            </div>
          </div>
          
          <div className="relative w-full h-48 mb-4">
            <img
              src={tracks[currentTrackIndex].thumbnail}
              alt="Album Art"
              className="w-full h-full object-cover rounded-lg"
            />
          </div>

          <div className="mb-4">
            <div className="flex justify-between text-sm text-gray-500 mb-1">
              <span>{formatTime(currentTime)}</span>
              <span>{formatTime(duration)}</span>
            </div>
            <input
              type="range"
              min="0"
              max={duration || 100}
              value={currentTime || 0}
              onChange={handleTimeChange}
              className="w-full"
            />
          </div>

          <div className="flex items-center justify-around mb-4">
            <button 
              onClick={prevTrack} 
              className="control-button"
            >
              <svg className="triangle-button" viewBox="0 0 24 24">
                <path d="M15 6v12l-9-6z" fill="currentColor"/>
              </svg>
              <svg className="triangle-button" viewBox="0 0 24 24">
                <path d="M15 6v12l-9-6z" fill="currentColor"/>
              </svg>
            </button>
            <button 
              onClick={togglePlay} 
              className="w-16 h-16 flex items-center justify-center rounded-full bg-blue-500 text-white hover:bg-blue-600"
            >
              <span className="play-button">{isPlaying ? "⏸" : "▶"}</span>
            </button>
            <button 
              onClick={nextTrack} 
 className="제어 버튼"
            >
 <svg className="삼각 버튼" 보기Box="0 0 24 24">
 <경로 d="M9 18V6l9 6z" 채우기="현재 색상"/>
 </svg>
 <svg className="삼각 버튼" 보기Box="0 0 24 24">
 <경로 d="M9 18V6l9 6z" 채우기="현재 색상"/>
 </svg>
 </버튼>
 </div>

 <div className="mt-4 p-3 bg-gray-50 반올림-lg">
 <h3 className="text-sm font-semibold mb-2">가사</h3>
 <div className="가사-용기">
 <p className="text-sm text-gray-600 공백-사전 줄">
 {tracks[currentTrackIndex].가사}
 </p>
 </div>
 </div>
 </div>
 );
    }

 ReactDOM.render(<MusicPlayer />, document.getElementById('root');
 </script>
</body>
</html>
